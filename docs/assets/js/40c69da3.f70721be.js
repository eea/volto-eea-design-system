"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[8199],{945:(e,t,n)=>{n.d(t,{Ay:()=>c,RM:()=>i});var s=n(4848),a=n(8453),r=n(797);function o(){const{siteConfig:e}=(0,r.A)(),{customFields:t}=e;return t.storyBookUrl}const i=[];function l(e){return(0,s.jsx)("div",{className:"frameWrapper",children:(0,s.jsx)("iframe",{style:{height:(e.height?e.height:300)+"px"},src:o()+"/iframe.html?id="+e.id,title:"description"})})}function c(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(l,{...e})}):l(e)}},4887:(e,t,n)=>{n.d(t,{Ay:()=>S,RM:()=>V});var s=n(4848),a=n(8453),r=n(6540),o=n(8215),i=n(5627),l=n(6347),c=n(372),u=n(604),d=n(1861),h=n(8749);function p(e){return r.Children.toArray(e).filter(e=>"\n"!==e).map(e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)})?.filter(Boolean)??[]}function f(e){const{values:t,children:n}=e;return(0,r.useMemo)(()=>{const e=t??function(e){return p(e).map(({props:{value:e,label:t,attributes:n,default:s}})=>({value:e,label:t,attributes:n,default:s}))}(n);return function(e){const t=(0,d.XI)(e,(e,t)=>e.value===t.value);if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map(e=>e.value).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e},[t,n])}function m({value:e,tabValues:t}){return t.some(t=>t.value===e)}function b({queryString:e=!1,groupId:t}){const n=(0,l.W6)(),s=function({queryString:e=!1,groupId:t}){if("string"==typeof e)return e;if(!1===e)return null;if(!0===e&&!t)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return t??null}({queryString:e,groupId:t});return[(0,u.aZ)(s),(0,r.useCallback)(e=>{if(!s)return;const t=new URLSearchParams(n.location.search);t.set(s,e),n.replace({...n.location,search:t.toString()})},[s,n])]}function v(e){const{defaultValue:t,queryString:n=!1,groupId:s}=e,a=f(e),[o,i]=(0,r.useState)(()=>function({defaultValue:e,tabValues:t}){if(0===t.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(e){if(!m({value:e,tabValues:t}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${e}" but none of its children has the corresponding value. Available values are: ${t.map(e=>e.value).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return e}const n=t.find(e=>e.default)??t[0];if(!n)throw new Error("Unexpected error: 0 tabValues");return n.value}({defaultValue:t,tabValues:a})),[l,u]=b({queryString:n,groupId:s}),[d,p]=function({groupId:e}){const t=function(e){return e?`docusaurus.tab.${e}`:null}(e),[n,s]=(0,h.Dv)(t);return[n,(0,r.useCallback)(e=>{t&&s.set(e)},[t,s])]}({groupId:s}),v=(()=>{const e=l??d;return m({value:e,tabValues:a})?e:null})();(0,c.A)(()=>{v&&i(v)},[v]);return{selectedValue:o,selectValue:(0,r.useCallback)(e=>{if(!m({value:e,tabValues:a}))throw new Error(`Can't select invalid tab value=${e}`);i(e),u(e),p(e)},[u,p,a]),tabValues:a}}var g=n(9136);const x={tabList:"tabList__CuJ",tabItem:"tabItem_LNqP"};function w({className:e,block:t,selectedValue:n,selectValue:a,tabValues:r}){const l=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const t=e.currentTarget,s=l.indexOf(t),o=r[s].value;o!==n&&(c(t),a(o))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=l.indexOf(e.currentTarget)+1;t=l[n]??l[0];break}case"ArrowLeft":{const n=l.indexOf(e.currentTarget)-1;t=l[n]??l[l.length-1];break}}t?.focus()};return(0,s.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,o.A)("tabs",{"tabs--block":t},e),children:r.map(({value:e,label:t,attributes:a})=>(0,s.jsx)("li",{role:"tab",tabIndex:n===e?0:-1,"aria-selected":n===e,ref:e=>{l.push(e)},onKeyDown:d,onClick:u,...a,className:(0,o.A)("tabs__item",x.tabItem,a?.className,{"tabs__item--active":n===e}),children:t??e},e))})}function j({lazy:e,children:t,selectedValue:n}){const a=(Array.isArray(t)?t:[t]).filter(Boolean);if(e){const e=a.find(e=>e.props.value===n);return e?(0,r.cloneElement)(e,{className:(0,o.A)("margin-top--md",e.props.className)}):null}return(0,s.jsx)("div",{className:"margin-top--md",children:a.map((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==n}))})}function y(e){const t=v(e);return(0,s.jsxs)("div",{className:(0,o.A)("tabs-container",x.tabList),children:[(0,s.jsx)(w,{...t,...e}),(0,s.jsx)(j,{...t,...e})]})}function I(e){const t=(0,g.A)();return(0,s.jsx)(y,{...e,children:p(e.children)},String(t))}const C={tabItem:"tabItem_Ymn6"};function T({children:e,hidden:t,className:n}){return(0,s.jsx)("div",{role:"tabpanel",className:(0,o.A)(C.tabItem,n),hidden:t,children:e})}function D(e){let t=[{label:"Usage",value:"usage"},{label:"Showcase",value:"showcase"}];return e.api&&t.push({label:"API",value:"api"}),e.playground&&t.push({label:"Playground",value:"playground"}),t}const V=[];function k(e){return(0,s.jsxs)(I,{defaultValue:"usage",values:D(e),children:[(0,s.jsx)(T,{value:"usage",children:e.usage}),(0,s.jsx)(T,{value:"showcase",children:e.showcase}),(0,s.jsx)(T,{value:"api",children:e.api})]})}function S(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(k,{...e})}):k(e)}},5644:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>f,contentTitle:()=>p,default:()=>v,frontMatter:()=>h,metadata:()=>s,toc:()=>m});const s=JSON.parse('{"id":"webdev/Templates/DraftContent","title":"Draft Content","description":"","source":"@site/docs/webdev/4-Templates/5-DraftContent.mdx","sourceDirName":"webdev/4-Templates","slug":"/webdev/Templates/DraftContent","permalink":"/volto-eea-design-system/docs/webdev/Templates/DraftContent","draft":false,"unlisted":false,"editUrl":"https://github.com/eea/volto-eea-design-system/edit/contribute-documentation/website/docs/webdev/4-Templates/5-DraftContent.mdx","tags":[],"version":"current","sidebarPosition":5,"frontMatter":{"title":"Draft Content","description":"","hide_table_of_contents":true},"sidebar":"sidebar","previous":{"title":"Page Header","permalink":"/volto-eea-design-system/docs/webdev/Templates/PageHeader"},"next":{"title":"Components","permalink":"/volto-eea-design-system/docs/category/components"}}');var a=n(4848),r=n(8453),o=n(4887);function i(e){const t={br:"br",code:"code",h2:"h2",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(t.p,{children:["The Draft Content component is a React component that adds a visual indicator to the page when the current content is in a draft or unpublished state.",(0,a.jsx)(t.br,{}),"\n","This is useful for content editors and administrators to\neasily distinguish between published and unpublished content."]}),"\n",(0,a.jsx)(t.h2,{id:"functionality",children:"Functionality"}),"\n",(0,a.jsxs)(t.p,{children:["The component checks the current content's review state, effective date, and parent content's review state to determine if the content should be considered published or not. If the content is not published, the component adds a CSS class (",(0,a.jsx)(t.code,{children:"wf-state-is-draft"}),") to the body element of the view page. This CSS class is used to apply a specific background to indicate the draft state."]}),"\n",(0,a.jsx)(t.p,{children:"The component handles the following cases to determine that the draft image should be displayed:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"If the content has an effective date set in the future, regardless of the review state, it is considered unpublished."}),"\n",(0,a.jsx)(t.li,{children:'If the content has a review state which isn\'t explicitly set to "published"'}),"\n"]}),"\n",(0,a.jsx)(t.p,{children:"The component handles the following cases to determine that the draft image should not be displayed:"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:'If the content\'s review state is explicitly set to "published" and the effective date is not in the future.'}),"\n",(0,a.jsx)(t.li,{children:"If the content's review state is null, but its parent's review state is \"published\", (e.g., an image in a published folder)."}),"\n",(0,a.jsx)(t.li,{children:"If the content's review state is null, and there is no parent (e.g., the Plone site root)."}),"\n",(0,a.jsx)(t.li,{children:"If the content's review state is null, and the parent's review state is also null (e.g., an image in the Plone site root)."}),"\n",(0,a.jsx)(t.li,{children:"If the content view is not a view page (e.g., the /edit or /content pages)."}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsxs)(t.p,{children:["The Draft Content component is typically used in the main layout or template of the Volto application.",(0,a.jsx)(t.br,{}),"\n","It should be rendered on every page to ensure that the draft state indicator is displayed consistently across the entire application."]}),"\n",(0,a.jsx)(t.h2,{id:"dos",children:"Do's"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Use the Draft Content component on every view page of your Volto application to ensure consistent draft state indication across the entire site."}),"\n",(0,a.jsxs)(t.li,{children:["Ensure that the CSS class ",(0,a.jsx)(t.code,{children:"wf-state-is-draft"})," is applied to the body element when the content is in a draft or unpublished state, and remove it when the content is published."]}),"\n"]}),"\n",(0,a.jsx)(t.h2,{id:"donts",children:"Don'ts"}),"\n",(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsx)(t.li,{children:"Don't use the Draft Content component on pages where you don't want to display the draft state indicator."}),"\n",(0,a.jsx)(t.li,{children:"Don't modify the logic for determining the draft state without considering all the edge cases and potential implications."}),"\n"]})]})}function l(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}var c=n(945);c.RM;function u(e){const t={h2:"h2",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.h2,{id:"default",children:"Default"}),"\n",(0,a.jsx)(c.Ay,{id:"layout-draft-contents--default"})]})}function d(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(u,{...e})}):u(e)}const h={title:"Draft Content",description:"",hide_table_of_contents:!0},p=void 0,f={},m=[...o.RM];function b(e){return(0,a.jsx)(o.Ay,{usage:(0,a.jsx)(l,{}),showcase:(0,a.jsx)(d,{})})}function v(e={}){const{wrapper:t}={...(0,r.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(b,{...e})}):b()}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>i});var s=n(6540);const a={},r=s.createContext(a);function o(e){const t=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function i(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),s.createElement(r.Provider,{value:t},e.children)}}}]);