@type: 'extra';
@element: 'header';

@import (multiple) '../../theme.config';

/*******************************
            Header
*******************************/


.eea.header {
  background: @white;

  /* Top header section */
  .top.bar {
    display: flex;
    align-items: center;
    height: @mobileTopSectionHeight;
    background: @topSectionBackground;
  
    .ui.container {
        display: flex;
        align-items: center;
        justify-content: space-between;
        z-index: 999999;
    }
    .item {
        display: flex;
        align-items: center;
        color: @topSectionItemColor;
        font-weight: @topSectionItemFontWeight;
        font-size: @mobileTopSectionItemFontSize;

    }
    .ui.dropdown {
        border: none !important;
        height: auto !important;
        border-radius: @defaultBorderRadius;
        color: @topSectionItemColor;

        font-size: @dropdownFontSize;
        font-weight: @dropdownFontWeight;

        .menu {
          margin-top: @mobileDropdownMenuMarginTop;
          left: @dropdownMenuLeft;
          right: @dropdownMenuRight;

          .wrapper {
            display: flex;
            flex-direction: column;
            gap: @dropdownMenuWrapperGap;
            white-space: @dropdownMenuContentWhiteSpace;
            margin: @dropdownMenuWrapperMargin;

            .item {
              &:hover {
                background: @dropdownMenuItemBackgroundColorHover;
                color: @dropdownMenuItemColorHover;
                cursor: pointer;
              }
            }
          }
        } 
    }

    /* Official union dropdowns */
    .official-union {
        display: flex;
        gap: @officialUnionGap;
    }
    .official-union.mobile.or.lower.hidden {
        .ui.dropdown .menu {
            padding: @tabletOfficialUnionPadding;
          
            .content {
              max-width: @tabletOfficialUnionMaxWidth;
            }
          
            p {
              font-size: @officialUnionMenuFontSize ;
              font-weight: @officialUnionTextFontWeight;
              white-space: @dropdownMenuContentWhiteSpace;
            }
            a {
              font-size: @officialUnionMenuFontSize;
              font-weight: @officialUnionLinkFontWeight;
              white-space: @dropdownMenuContentWhiteSpace;
              color: @officialUnionLinkColor;
            }
        }
    }
    .official-union.mobile.only {

      img {
        width: @tabletOfficialUnionImageWidth;
      }
        
      .ui.dropdown {
          font-size: @mobileTopSectionItemFontSize;

        .menu {
            padding: @mobileOfficialUnionPadding;

          .content {
              max-width: @mobileOfficialUnionMaxWidth; 
  
            p,
            a {
              font-size: @mobileDropdownMenuContentFontSize ;
              font-weight: @dropdownMenuContentFontWeight;
              white-space: @dropdownMenuContentWhiteSpace;
            }
        
            i.icon,
            i.icons {
                font-size: @mobileTopSectionItemFontSize;
            }
          }
        } 
      }
    }

    /* Theme sites dropdown */
    #theme-sites.ui.dropdown .menu {

      .wrapper {
        width: @themeSitesMenuWidth;

        .item {
          padding: @themeSitesMenuItemPadding;

          &:hover {
            a.site {
              color: @white;
            }
          }

          a.site {
              color: @themeSitesMenuSiteLinkColor;
              font-weight: @themeSitesMenuSiteLinkFontWeight;
          }
        }
      }
    }

    /* Language dropdown */
    #language-switcher {
      font-size: @mobileLanguageFontSize;
    
      img {
        width: @mobileOfficialUnionImageWidth;
      }
      .menu {
        top: @mobileLanguageMenuTop;
        color: @japaneseIndigo;

        .wrapper {

          .item {   
            justify-content: flex-end;
            padding: @languageMenuPadding;
            font-weight: @languageMenuItemFontWeight;
            font-size: @mobileLanguageFontSize;

            span.country-code {
              margin-left: @mobileLanguageCountryCodeMarginLeft;
              font-weight: @mobileLanguageCountryCodeFontWeight;
            }
          }
        }
      }
    }
  }

  /* Main header section */
  .main.bar {
    .ui.container {
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: @mobileMainSectionHeight;
  
      .ui.grid {
        /* All margins and paddings removed for main header */
        width: 100%;
        margin-top: 0;
        margin-bottom: 0;
        margin-left: 0;
        margin-right: 0;
  
        div:first-child {
          padding-left: 0;
        }
  
        div:last-child {
          padding-right: 0;
        }
      }

      #logo {
        width: @logoWidth;
        max-width: @mobileLogoMaxWidth;
        margin-top: @mobileLogoMarginTop;
      }

      .main-menu {
        display: flex;
        align-items: flex-end;
        justify-content: flex-end;
        width: 100%;

        .item {
          color: @mainMenuItemColor;
          font-size: @mainMenuItemFontSize;
          font-weight: @mainMenuItemFontWeight;
          place-self: @mainMenuItemPlaceSelf;
        }

        .item.active {
          color: @mainMenuItemActiveColor;
          border-bottom: @mainMenuItemActiveBorder;
        }
      }
    }


    /* Search Box */
    #search-box {
      position: relative;
      z-index: 99999;
      overflow: scroll;
      width: 100%;
      height: @mobilePopUpHeight;
      background: @searchBoxBackgroundGradient;
    
      .ui.container {
        height: 100%;
        align-items: baseline;
      }
      .wrapper {
        position: relative;
        width: 100%;
        margin-top: @mobilePopupMarginTop;
        display: flex;
        flex-direction: column;
        gap: @searchBoxWrapperGap;

        .action {
          display: flex;
          justify-content: center;
        }
      }
    }
  }
}


/***************************************
Header Actions - Burger and Search Icons
***************************************/
.eea-header-burger-action {
    display: flex;
    width: @mobileActionsBoxWidth;
    height: @mobileMainSectionHeight;
    align-items: center;
    justify-content: center;
    background-color: @mediumPersianBlue;
  }
  
  .eea-header-burger-action.desktop {
    display: none;
  }
  
  .eea-header-burger-action.mobile {
    display: flex;
    flex-direction: column;
    cursor: pointer;
  }
  
  .eea-header-search-action {
    display: flex;
    width: @mobileActionsBoxWidth;
    height: @mobileMainSectionHeight;
    align-items: center;
    justify-content: center;
    background-color: @darkCyan;

  }

  .eea-header-burger-action,.eea-header-search-action,.eea-header-burger-action.mobile {
    img {
      width: 60%;
    }
    // icon to be used
    i.icon {
      margin:0;
      color: @white;
      font-size: 1em;
      display: flex;
      justify-content: center;
      align-items: center;
    }
  }



@media only screen and (min-width: @tabletBreakpoint) {
    .eea.header {
      .top.bar {
        height: @tabletTopSectionHeight;

        .item {
          font-size: @tabletTopSectionItemFontSize;
        }

        .ui.dropdown .menu {
          margin-top: @tabletDropdownMenuMarginTop;
        }

        /* Language dropdown */
        #language-switcher {
          font-size: @tabletLanguageFontSize;

          img {
            width: 19px;
          }

          .menu {
            top: @tabletLanguageMenuTop;
            .wrapper .item {
              font-size: @tabletLanguageFontSize;
            }
          }
        }
      }
      .main.bar {
        .ui.container {
          height: 117px;

          #logo {
            max-width: @tabletLogoMaxWidth;
            margin-top: @tabletLogoMarginTop;
          }
        }

        /* Search box */
        #search-box {
          height: @tabletPopUpHeight;
          .wrapper {
            margin-top: @tabletPopupMarginTop;
          }
        }
      }
    }

  .text.menu {
    display: none;
  }

  .eea-header-burger-action.mobile {
    display: flex;
  }

  /* Action Boxes */
  .eea-header-burger-action.mobile,
  .eea-header-search-action {
    width: @tabletActionsBoxWidth;
    height: @tabletMainSectionHeight;
  }
}

@media only screen and (min-width: @computerBreakpoint) {
  .eea.header {
    .top.bar {
      height: @computerTopSectionHeight;
    }

    .main.bar {
      .ui.container {
        height: 160px;

        #logo {
          max-width: @computerLogoMaxWidth;
          margin-top: @computerLogoMarginTop;
        }

        .ui.text.menu {
          display: flex;
          width: 88%;
          max-height: 20px;
          justify-content: space-between;
          margin: 0;
        }
      }

      /* Search box */
      #search-box {
        height: @computerPopUpHeight;

        .wrapper {
          margin-top: @computerPopupMarginTop;

          .action {
            justify-content: flex-end;
          }
        }
      }
    }
  }

  .eea-header-burger-action.mobile {
    display: none;
  }

  .eea-header-burger-action.desktop {
    display: flex;
    width: @computerActionsBoxWidth;
    height: @computerMainSectionHeight;
  }

  .eea-header-search-action {
    width: @computerActionsBoxWidth;
    height: @computerMainSectionHeight;
  }
}

@media only screen and (max-width: 960px) {
  #theme-sites {
    display: none;
  }
}




/************************
      MEGA MENU
************************/

#mega-menu {
  position: relative;
  z-index: 9999;
  overflow: scroll;
  width: 100%;
  background: @megaMenuBackgroundGradient;

  .ui.container {
    height: 100%;
    align-items: baseline;
  }

  .toggle, [id^=drop] {
    display: none;
   }
   nav {
     margin: 0;
     padding: 0;
     width: 100%;
     margin-top: @tabletPopupMarginTop;
   }
   
   nav:after {
     content: "";
     display: table;
     clear: both;
   }
   
   nav ul {
     float: left;
     padding: 0;
     margin: 0;
     list-style: none;
     position: relative;

     >li a {
      padding: 0;
    }
   }
   
   nav ul li {
     margin: 0px;
     display: inline-block;
     font-size: @mobileMegaMenuFontSize;
   }
   
   nav a {
    color: @mobileMegaMenuColor;
    display: flex;
    padding: @megaMenuLinkPadding;
    line-height: @mobileMegaMenuLineHeight;
    word-break: @megaMenuWordBreak;
   }
   
   nav ul ul {
     display: none;
     position: absolute;
     top: 0;
   }
   
   nav ul li:hover > ul,
   nav ul li:active > ul { 
     display: inherit; 
     display: flex;
     flex-direction: column;
    }
   
   nav ul ul li {
     float: none;
     display: list-item;
   }
   
   nav ul ul ul li {
     left: 0;
   }
   
  //  li > a:after { 
  //   content: "\f054";
  //   font-family: 'Icons';
  //   font-size: @megaMenuIconAfterFontSize;
  // }
   
   li > a:only-child:after { 
    content: ""; 
  }
   
  @media all and (max-width : @largestMobileScreen) {
    height: @mobilePopUpHeight;
    nav {
      margin-top: @mobilePopupMarginTop
    }
    .menu, li {
      width: 100%;
    }
   
    .toggle + a,
    .menu { 
      display: none;
    }
   
    .toggle {
      display: block;
      padding: @toggleMenuFirstPadding;
      color: @mobileMegaMenuColor;
      line-height: @mobileMegaMenuLineHeight;
    }

    [id^=drop]:checked + ul { 
      display: block;
    }
   
     nav ul li {
       display: block;
       width: 100%;
     }
   
    nav ul ul .toggle,
    nav ul ul a { 
      padding: @toggleMenuSecondPadding;
    }
   
    nav ul ul ul a { 
      padding: @toggleMenuThirdPadding;
    }
   
   
    nav ul ul {
      float: none;
      position: static;
      color: @mobileMegaMenuColor;
    }
   
    nav ul ul li:hover > ul,
    nav ul li:hover > ul { 
      display: none;
    }
   
    nav ul ul li {
      display: block;
      width: 100%;
    }
   
    nav ul ul ul li { 
      position: static;
    }
  }
   
  .menu {
    display: flex;
    flex-direction: column;
  }
  .sub {
    left: 100%;
  }
   
   
  @media all and (min-width : @tabletBreakpoint) {
    height: @tabletPopUpHeight;
    nav {
      .menu {
        width: 33.33%;
        font-size: @tabletMegaMenuFontSize;
        > li {
          width: 100%;
          display: flex;
          justify-content: space-between;
          align-items: baseline;

          &.hasSubMenu:after { 
            content: '\f054';
            font-family: 'Icons';
            font-size: @tabletMegaMenuIconAfterFontSize;
            color: @white;
          }
          a {
            display: flex;
            justify-content: space-between;
            align-items: baseline;
            max-width: 100%;
            line-height: @tabletMegaMenuLineHeight;
            padding-left: 2rem;
          }
        }

      }
      
      .sub.second {
        width: 100%;
        left: 100%;
        > li {
          width: 100%;
          display: flex;
          justify-content: space-between;
          align-items: baseline;

          &.hasSubMenu:after { 
            content: '\f054';
            font-family: 'Icons';
            font-size: @tabletMegaMenuIconAfterFontSize;
            color: @megaMenuIconAfterColor;
          }
         a {
           max-width: 100%;
           padding-left: 2rem;
          }
        }  
      }
      .sub.third {
        left: 100%;
        width: 100%;
        min-height: 50vh;
        li {
          > a {
            max-width: 100%;
          }
        }
      }
    }
    ul li:hover > a span { 
      text-decoration: underline;
    }
  }

  
  @media only screen and (min-width: @computerBreakpoint) {
    height: @computerPopUpHeight;
    nav {
      margin-top: @computerPopupMarginTop;
      .menu {
        > li {
          font-size: @computerMegaMenuFirstFontSize;
          margin-bottom: 2rem;
          &.hasSubMenu:after {
            font-size: @computerMegaMenuIconAfterFontSize;
          }
        }
      }
      .sub.second li {
        font-size: @computerMegaMenuSecondFontSize;
        margin-bottom: 1.7rem;
        &.hasSubMenu:after { 
          font-size: @computerMegaMenuIconAfterFontSize;
        }
      }
      .sub.third li {
        font-size: @computerMegaMenuThirdFontSize;
        margin-bottom: 1.5rem;
      }
    }
  }
}
